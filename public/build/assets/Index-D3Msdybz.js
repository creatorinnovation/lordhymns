import{r as c,a as s,j as e,L as l}from"./app-B2_QvAPB.js";import{A as u}from"./AuthenticatedLayout-BdSuuVB6.js";import"./transition-C8ZEfLup.js";import"./Logo-Dal5EXcN.js";function g({songs:d,filters:a}){const[r,n]=c.useState(a.search||"");a.sort;const i=a.direction||"asc",x=()=>{s.get(route("songs.index"),{search:r,sort:"english_title",direction:i==="asc"?"desc":"asc"},{preserveState:!0,replace:!0})},o=t=>{t.preventDefault(),s.get(route("songs.index"),{search:r},{preserveState:!0,replace:!0})};return c.useEffect(()=>{const t=setTimeout(()=>{s.get(route("songs.index"),{search:r},{preserveState:!0,replace:!0})},400);return()=>clearTimeout(t)},[r]),e.jsx(u,{children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Songs"}),e.jsx(l,{href:route("songs.create"),className:"py-2 px-6 rounded-sm shadow-sm bg-blue-600 hover:bg-blue-500 text-white",children:"Add"})]}),e.jsxs("div",{class:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsxs("form",{onSubmit:o,className:"flex gap-2 w-full md:w-auto",children:[e.jsx("input",{type:"text",value:r,onChange:t=>n(t.target.value),placeholder:"Search title / artist...",className:"border rounded-lg px-4 py-2 w-full md:w-64"}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Search"})]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 border rounded-lg flex items-center gap-2",children:["Sort A–Z",e.jsx("span",{className:"text-sm text-gray-500",children:i==="asc"?"↑":"↓"})]})]}),e.jsx("div",{class:"hidden md:block overflow-x-auto",children:e.jsxs("table",{class:"min-w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{class:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{class:"px-4 py-2 text-left",children:"Title"}),e.jsx("th",{class:"px-4 py-2 text-left",children:"Artist"}),e.jsx("th",{class:"px-4 py-2 text-left",children:"Role"}),e.jsx("th",{class:"px-4 py-2 text-left",children:"Status"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:d.data.map(t=>e.jsxs("tr",{class:"border-t",children:[e.jsxs("td",{class:"px-4 py-2",children:[t.english_title," ",e.jsx("br",{})," ",e.jsx("span",{className:"text-gray-500",children:t.hindi_title})]}),e.jsx("td",{class:"px-4 py-2",children:t.artist}),e.jsx("td",{class:"px-4 py-2",children:"Admin"}),e.jsx("td",{class:"px-4 py-2 text-green-600",children:e.jsx("button",{onClick:()=>s.patch(route("songs.status",t.id)),className:`px-3 py-1 rounded text-white ${t.status==="active"?"bg-green-600":"bg-red-600"}`,children:t.status})}),e.jsxs("td",{className:"flex gap-2 justify-end items-center",children:[e.jsx(l,{href:route("songs.edit",t.id),className:"py-2 px-3 rounded bg-green-700 text-white",children:"Edit"}),e.jsx("button",{onClick:()=>s.delete(route("songs.destroy",t.id)),className:"py-2 px-3 rounded bg-red-700 text-white",children:"Delete"})]})]},t.id))})]})}),d.data.map(t=>e.jsx("div",{class:"md:hidden space-y-4",children:e.jsx("div",{class:"border rounded-lg p-4 shadow-sm",children:e.jsxs("div",{class:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{class:"font-semibold",children:t.english_title}),e.jsx("p",{children:t.hindi_title})]}),e.jsxs("div",{className:"flex-row",children:[e.jsx(l,{href:route("songs.edit",t.id),className:"py-2 px-3 rounded bg-green-700 text-white",children:"Edit"}),e.jsx("br",{}),e.jsx("button",{onClick:()=>s.delete(route("songs.destroy",t.id)),className:"py-2 px-3 rounded bg-red-700 text-white",children:"Delete"})]})]})})}))]}),e.jsx("div",{className:"flex gap-2",children:d.links.map((t,h)=>e.jsx(l,{href:t.url||"",dangerouslySetInnerHTML:{__html:t.label},className:`px-3 py-1 border rounded ${t.active?"bg-blue-600 text-white":""}`},h))})]})})}export{g as default};
